import{F as k,a as D,E as A,c as S,b as M,_ as C}from"./object.19c1d3e0.js";import{_ as $}from"./ButtonPreset.d045a28d.js";import{_ as V,f as F,m as u,u as B,i as L,j as E,k as x,l as f,p as T,q as P,r as N,o as a,g as H,w as l,d as t,c as o,t as p,h as r,a as d,F as I,s as U,b as n,v as W,x as j}from"./entry.4421f2c3.js";import"./CurrencyIconImage.f4cd812b.js";const q=F({name:"ModalDepositMain",components:{Form:k,Field:D,ErrorMessage:A},data(){return{isLoading:!1,nfts:[],metaMaskErrorMessage:"",depositAmount:.1,minDeposit:.025,maxDeposit:1e3,meta:null,presets:[.05,.1,.25,.5,1],txHash:null}},computed:{...u(B,["showDepositModal","depositModalVariant"]),...u(L,["showDepositCompleted"]),...u(E,["tournamentSelected"]),...x(f,["exchangeRateEthUsd"]),...x(T,["userFeatures"]),validationSchema(){return S().shape({depositAmount:M().positive().min(this.minDeposit,`Minimum deposit is ${this.minDeposit}`).max(this.maxDeposit,`Maximum deposit is ${this.maxDeposit}`).required("Please enter a numeric value").typeError("Please enter a numeric value").label("Deposit amount")})},title(){switch(this.depositModalVariant){case"insufficientBalance":return"Fill your balance";case"depositToPlay":return"Deposit to play";default:return"Make a Deposit"}},valUsdDisplay(){let e=this.depositAmount*this.exchangeRateEthUsd;return e<1e3?this.depositAmount!==null?this.$truncateNumber(e,2):"":this.depositAmount!==null?this.$formatNumber(e,2):""},depositAvailable(){var e;return((e=this.userFeatures)==null?void 0:e.deposit)||!1}},mounted(){var s;const e=Number((s=this.tournamentSelected)==null?void 0:s.playerEntryCost)||null;this.depositModalVariant==="depositToPlay"&&e&&(e<=this.minDeposit?this.depositAmount=this.minDeposit:this.depositAmount=e,e>this.maxDeposit&&(this.depositAmount=this.maxDeposit))},methods:{...P(f,["startTransaction"]),updateValues(e,s){this.meta=s,this.depositAmount=e.depositAmount},close(){this.showDepositModal=!1,this.depositModalVariant="normal",this.tournamentSelected=null},async onSubmit(){if(this.depositAvailable){this.isLoading=!0;try{this.txHash=await this.startTransaction(this.depositAmount)}catch(e){e.code===4001?console.log("Deposit cancelled."):console.log(e.message),this.isLoading=!1}}},usePreset(e){this.$refs.DepositInput.inputValue=e,this.depositAmount=e}}}),R={class:"px-4 md:px-7 pt-4 w-full"},Y={key:0,class:"animate-fade-in"},G={class:"text-center mb-3 flex items-center justify-center"},K=t("span",{class:"icon-ico-eth text-2xl text-blue-500 animate-glow-slow-blue text-center mr-2"},null,-1),Z={class:"text-3xl uppercase tracking-widest text-center"},z={class:"text-center block"},J=t("h2",{class:"text-base uppercase tracking-wider mt-1 text-center text-cyan"},"Add ETH to your MetaWin Balance",-1),O={key:0,class:"text-2xl uppercase tracking-widest mt-1 text-center text-cyan"},Q={class:"relative"},X={class:"flex justify-between mt-2 overflow-hidden"},ee={key:0,class:"text-center mt-4 text-white text-sm"},te={key:1,class:"animate-pulse text-white mt-4 text-center"},se=t("div",{class:"text-center mt-5"},[t("span",{class:"icon-ico-check-circle-custom text-4xl text-green-50"}),t("p",{class:"uppercase text-pink-400 leading-tight text-sm tracking-wide"},[t("strong",{class:"tracking-wider text-base"},"Zero Friction Guarantee"),n(),t("br"),n(" Your withdrawals are "),t("strong",null,"instant"),n(" up to 3 ETH in 24H ")]),t("p",{class:"leading-none text-[11px] mt-3 uppercase"},"Withdrawals must return funds to the same wallet as deposit")],-1),ae={key:1,class:"animate-fade-in"},oe={class:"text-center block"},ie=t("span",{class:"icon-ico-eth text-[42px] text-blue-500 animate-glow-slow-blue text-center"},null,-1),ne=t("h1",{class:"text-3xl uppercase tracking-widest mt-5 text-center"},"Balance updated",-1),le=t("div",{class:"text-slate-100 mt-4 leading-tight animate-slide-down-fade-in04s"},[t("p",null,"Your balance has been updated")],-1);function re(e,s,de,ue,pe,ce){const b=C,g=$,c=W,v=N("Form"),w=j;return a(),H(w,{onClose:e.close},{default:l(()=>{var m;return[t("div",R,[e.showDepositCompleted?r("",!0):(a(),o("div",Y,[t("div",G,[K,t("h1",Z,p(e.title),1)]),t("div",z,[J,(m=e.tournamentSelected)!=null&&m.name?(a(),o("h2",O,p(e.tournamentSelected.name),1)):r("",!0)]),d(v,{onSubmit:e.onSubmit,"validation-schema":e.validationSchema,ref:"DepositForm",class:"mt-5"},{default:l(({values:h,meta:_})=>[t("div",Q,[d(b,{name:"depositAmount",type:"number",step:"0.01",maxDecimalPlaces:6,hideValidationTick:!0,value:e.depositAmount,disabled:e.isLoading||!e.depositAvailable,ref:"DepositInput",onKeypress:s[0]||(s[0]=i=>e.$preventLetterInput(i)),onInput:i=>e.updateValues(h,_)},null,8,["value","disabled","onInput"])]),t("div",X,[(a(!0),o(I,null,U(e.presets,(i,y)=>(a(),o("div",{key:"preset"+y},[d(g,{disabled:e.isLoading||!e.depositAvailable,onClick:me=>e.usePreset(i),preset:i,presetSelected:e.depositAmount,class:"w-12 3xs:w-14 xs:w-[62px] text-sm xs:text-base"},{default:l(()=>[n(p(i),1)]),_:2},1032,["disabled","onClick","preset","presetSelected"])]))),128))]),d(c,{isLoading:e.isLoading,type:"submit",disabled:!_.valid||e.isLoading||!e.depositAvailable,class:"block w-full mt-8"},{default:l(()=>[n(" Add funds ")]),_:2},1032,["isLoading","disabled"]),e.depositAvailable?r("",!0):(a(),o("p",ee," Deposits from the country you are connecting from are not possible at this time. ")),e.txHash?(a(),o("h2",te," We're processing the transaction. ")):r("",!0),se]),_:1},8,["onSubmit","validation-schema"])])),e.showDepositCompleted?(a(),o("div",ae,[t("div",oe,[ie,ne,le,d(c,{type:"button",class:"block w-full mt-8 animate-slide-down-fade-in05s",onClick:s[1]||(s[1]=h=>e.close())},{default:l(()=>[n(" Close ")]),_:1})])])):r("",!0)])]}),_:1},8,["onClose"])}const be=V(q,[["render",re]]);export{be as default};
//# sourceMappingURL=Main.51b6ab8a.js.map
